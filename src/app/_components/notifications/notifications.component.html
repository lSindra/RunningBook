<button mat-icon-button [matMenuTriggerFor]="notificationsMenu">
  <mat-icon matBadge="{{awaitingNotifications}}">notifications</mat-icon>
</button>

<mat-menu class="notifications-dropdown" overlapTrigger=false #notificationsMenu="matMenu">
  <div *ngIf="notifications">
    <div class="notification-row" id="mat-menu-item" mat-menu-item *ngFor="let notification of notifications.slice()">
      <div class="notification-text">
        <mat-icon *ngIf="notification.type === 'friendRequest'">person</mat-icon>
        <span class="highlight">{{notification.title}}</span>
      </div>

      <div class="buttons-row">
        <mat-button-mini-fab class="add-friend" *ngIf="notification.type === 'friend-request'" (click)="addFriend(notification.sender, notification.uid)">
          <mat-icon>person_add</mat-icon>
        </mat-button-mini-fab>

        <mat-button-mini-fab class="dismiss-notification" (click)="dismissNotification(notification.uid)">
          <mat-icon>close</mat-icon>
        </mat-button-mini-fab>
      </div>
    </div>
  </div>
</mat-menu>
